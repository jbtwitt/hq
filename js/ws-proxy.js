const ws = require('ws');   //websocket
const robot = require('./robot');

const tst=`uri:/instrument/1.0/LABU/chartdata;type=quote;range=1d/csv
ticker:labu
Company-Name:Direxion Daily S&P Biotech Bull
Exchange-Name:PCX
unit:MIN
timezone:EST
currency:USD
gmtoffset:-18000
previous_close:40.6100
Timestamp:1486132200,1486155600
labels:1486134000,1486137600,1486141200,1486144800,1486148400,1486152000,1486155600
values:Timestamp,close,high,low,open,volume
close:39.8796,42.2273
high:40.1484,42.2800
low:39.8796,42.2000
open:39.9200,42.2500
volume:100,45000
1486132200,41.3400,41.3400,41.3400,41.3400,41100
1486132263,41.0244,41.0244,40.7000,40.7000,600
1486132356,40.6790,40.8500,40.6790,40.7880,45000
1486132429,40.8254,40.9700,40.8254,40.8613,21800
1486132499,40.9940,41.1000,40.7500,40.8800,11900
1486132506,41.1000,41.1000,40.7900,41.0100,29600
1486132565,41.1200,41.1200,40.7500,41.0400,10600
1486132634,41.0723,41.2000,41.0600,41.0900,11800
1486132739,40.8800,41.1400,40.8400,41.1000,26700
1486132745,40.9886,41.0000,40.8800,40.8900,9600
1486132806,40.9300,40.9999,40.9000,40.9954,10900
1486132919,40.8900,41.1000,40.8900,41.0000,2900
1486132927,40.9700,40.9700,40.8400,40.9500,4400
1486132992,40.8500,40.9100,40.8323,40.9100,2100
1486133077,40.8501,40.8501,40.8501,40.8501,300
1486133142,40.6500,40.8600,40.6500,40.8600,8900
1486133211,40.7607,40.8600,40.7100,40.7100,7500
1486133279,40.6137,40.8370,40.5400,40.7806,19100
1486133281,40.6493,40.7800,40.5501,40.5501,8500
1486133393,40.4200,40.6504,40.4100,40.6200,19200
1486133459,40.2099,40.4803,40.0511,40.4803,34000
1486133460,39.8796,40.1484,39.8796,40.1484,15700
1486133579,40.1700,40.2374,39.8900,39.9200,20100
1486133631,40.2698,40.3020,40.1999,40.1999,5700
1486133692,40.3087,40.3436,40.1508,40.2800,20500
1486133759,40.1000,40.2600,40.1000,40.2580,6200
1486133781,40.1200,40.2172,40.1200,40.2000,6600
1486133871,40.2000,40.2300,40.1001,40.1001,4500
1486133882,40.1885,40.1900,40.1610,40.1900,500
1486133997,40.3900,40.4200,40.1750,40.2000,2500
1486134001,40.3288,40.4780,40.2400,40.3900,3200
1486134110,40.4600,40.5220,40.2000,40.2300,10800
1486134121,40.5200,40.6500,40.4100,40.5400,29200
1486134238,40.5300,40.5500,40.4970,40.4970,10500
1486134292,40.3500,40.5690,40.3200,40.5420,6400
1486134357,40.4050,40.4050,40.3609,40.3609,2600
1486134411,40.6000,40.6300,40.3864,40.3864,6000
1486134426,40.6468,40.7600,40.6000,40.6000,9100
1486134533,40.5800,40.5800,40.5800,40.5800,800
1486134599,40.6800,40.7129,40.6200,40.6200,1900
1486134655,40.6700,40.7500,40.6400,40.6900,4100
1486134719,40.7444,40.7700,40.6400,40.6639,7900
1486134779,40.7586,40.8000,40.6900,40.7000,28300
1486134812,40.9200,40.9200,40.7900,40.8100,7900
1486134894,40.9146,40.9500,40.8400,40.9024,16300
1486134954,40.8800,40.9700,40.8652,40.9100,6200
1486135018,40.8800,40.9588,40.8484,40.8700,3200
1486135047,40.8300,40.9800,40.8000,40.9300,1900
1486135118,40.9075,40.9699,40.8500,40.8600,5700
1486135165,40.9527,40.9800,40.9300,40.9300,2800
1486135252,40.8600,41.0400,40.8400,41.0000,16100
1486135314,40.9243,40.9400,40.8800,40.9100,5100
1486135347,40.9050,40.9050,40.8600,40.8800,800
1486135434,40.4400,40.8000,40.4400,40.8000,17500
1486135498,40.7494,40.7494,40.5500,40.5600,14000
1486135500,40.9500,40.9500,40.7060,40.7060,3200
1486135567,40.9200,40.9900,40.8400,40.9900,12100
1486135669,40.8400,40.8600,40.8300,40.8600,800
1486135784,40.5400,40.8100,40.5200,40.8100,8800
1486135847,40.5700,40.5700,40.5000,40.5700,500
1486135891,40.5794,40.5794,40.5587,40.5587,1300
1486135974,40.5300,40.5600,40.5300,40.5500,7000
1486135987,40.6800,40.7400,40.5900,40.5900,5800
1486136099,40.6500,40.7900,40.6100,40.7900,9300
1486136126,40.5900,40.6300,40.5400,40.5700,1400
1486136162,40.5334,40.5367,40.4900,40.4900,10700
1486136277,40.6800,40.6800,40.5700,40.5800,900
1486136313,40.6800,40.7200,40.6300,40.7200,1200
1486136350,40.5200,40.6000,40.5200,40.6000,8500
1486136449,40.6699,40.6699,40.5415,40.5415,1200
1486136461,40.5600,40.6500,40.5600,40.6180,1200
1486136573,40.6100,40.6100,40.5300,40.5300,7900
1486136614,40.5600,40.6194,40.5600,40.6194,3400
1486136649,40.7900,40.7900,40.6100,40.6100,4000
1486136739,40.7750,40.8600,40.7700,40.7829,10300
1486136808,40.6800,40.8200,40.6800,40.8100,13600
1486136829,40.7700,40.7700,40.7125,40.7125,400
1486136937,40.8500,40.8500,40.7693,40.7700,3900
1486136999,41.0500,41.0500,40.8764,40.9000,17500
1486137000,40.9800,41.1000,40.9800,41.0500,10800
1486137118,41.0500,41.0600,41.0200,41.0200,6000
1486137137,41.0350,41.1000,40.9700,41.0000,6600
1486137231,40.9200,41.0136,40.8400,40.9800,11600
1486137245,40.8500,40.8960,40.8000,40.8800,8600
1486137307,40.9200,40.9200,40.8500,40.8500,5800
1486137471,40.8324,40.8500,40.8324,40.8500,10200
1486137538,40.8900,40.9000,40.8187,40.8300,1500
1486137568,40.9170,40.9200,40.8900,40.8900,800
1486137655,40.9600,40.9800,40.8900,40.9296,9200
1486137693,40.9200,40.9200,40.9200,40.9200,400
1486137777,40.8589,40.9300,40.8589,40.8800,2600
1486137830,40.8800,40.9700,40.8800,40.9700,3000
1486137888,40.8900,40.9500,40.8801,40.9500,800
1486137945,40.8800,40.9000,40.8300,40.8700,4900
1486138019,41.0000,41.0000,40.8800,40.8800,5300
1486138074,40.9500,41.0300,40.8900,41.0300,6500
1486138081,40.8400,40.9685,40.8400,40.9685,3200
1486138252,40.7500,40.8200,40.7500,40.8000,20100
1486138289,40.7500,40.7500,40.7500,40.7500,300
1486138371,40.8600,40.8600,40.7300,40.7300,700
1486138390,40.7800,40.7800,40.7500,40.7800,6200
1486138494,40.5803,40.6672,40.5700,40.6672,11500
1486138556,40.5600,40.6076,40.5360,40.6076,8800
1486138612,40.6400,40.6500,40.5500,40.5500,1400
1486138621,40.6599,40.6599,40.6599,40.6599,100
1486138735,40.6974,40.7090,40.6974,40.7090,400
1486138794,40.5900,40.6300,40.5600,40.6300,2200
1486138859,41.0700,41.0700,40.5400,40.5584,11300
1486138918,41.0500,41.0800,40.9100,41.0800,18600
1486138978,40.8880,41.1400,40.8880,41.0800,14400
1486139015,40.8250,40.9000,40.7800,40.8833,13800
1486139060,40.7500,40.7900,40.7500,40.7700,4000
1486139152,40.6467,40.6970,40.6467,40.6970,3900
1486139182,40.6200,40.6400,40.6000,40.6400,4400
1486139270,40.6500,40.7211,40.5310,40.6641,13500
1486139293,40.7100,40.7100,40.5800,40.6610,2200
1486139379,40.6720,40.6720,40.6720,40.6720,1600
1486139452,40.7300,40.7300,40.5815,40.5850,1800
1486139464,40.7000,40.7000,40.7000,40.7000,100
1486139573,40.6750,40.6750,40.6300,40.6400,2100
1486139695,40.6000,40.6600,40.6000,40.6600,2900
1486139700,40.5900,40.6500,40.5900,40.6500,2400
1486139781,40.6580,40.6600,40.6000,40.6400,1500
1486139846,40.6000,40.6121,40.6000,40.6121,1100
1486139939,40.4700,40.6100,40.4700,40.6100,11700
1486139998,40.5000,40.5000,40.4300,40.4835,3500
1486140059,40.6100,40.6100,40.5500,40.5500,2600
1486140062,40.5101,40.5505,40.5101,40.5500,1000
1486140124,40.4700,40.5200,40.4700,40.5200,1800
1486140257,40.5040,40.5112,40.4800,40.5112,2000
1486140348,40.5500,40.5500,40.4600,40.4600,1700
1486140381,40.6300,40.6400,40.5685,40.5699,1800
1486140443,40.5685,40.5685,40.5269,40.5269,2200
1486140520,40.6119,40.6119,40.5800,40.5800,600
1486140567,40.6400,40.6400,40.5760,40.6000,1100
1486140625,40.5730,40.6000,40.5670,40.6000,2100
1486140774,40.5800,40.5800,40.5800,40.5800,2100
1486140818,40.6500,40.6500,40.6100,40.6100,1100
1486140841,40.6700,40.6800,40.6700,40.6800,400
1486140901,40.6950,40.7000,40.6500,40.6500,5600
1486141062,40.6900,40.6900,40.6630,40.6899,700
1486141116,40.7700,40.7700,40.6900,40.6900,4800
1486141193,40.7200,40.7500,40.7200,40.7500,6700
1486141248,40.7586,40.7900,40.6900,40.6900,2100
1486141276,40.8300,40.8300,40.7700,40.7700,2800
1486141323,40.7900,40.8800,40.7200,40.8300,7700
1486141397,40.7000,40.7500,40.7000,40.7500,400
1486141469,40.6583,40.6583,40.6400,40.6514,1800
1486141500,40.7000,40.7000,40.6500,40.6500,2000
1486141590,40.7480,40.7700,40.7058,40.7437,5900
1486141631,40.6300,40.7200,40.6300,40.7200,5100
1486141777,40.6600,40.7000,40.6300,40.6300,1300
1486141831,40.7600,40.7600,40.6617,40.6617,1900
1486141904,40.6600,40.7000,40.6600,40.7000,1100
1486141952,40.7050,40.7430,40.7050,40.7430,600
1486142028,40.7900,40.8300,40.7400,40.7400,4700
1486142057,40.8250,40.8800,40.8100,40.8200,2500
1486142129,40.8700,40.8700,40.8168,40.8300,1600
1486142257,40.8700,40.9400,40.8700,40.9100,2400
1486142297,40.9300,40.9300,40.9300,40.9300,300
1486142389,40.8952,40.9034,40.8952,40.9034,600
1486142403,40.9700,40.9900,40.8800,40.9300,16400
1486142518,40.9900,40.9900,40.9500,40.9700,1000
1486142521,40.9500,40.9899,40.8800,40.9800,5400
1486142637,40.9400,40.9400,40.9000,40.9000,2200
1486142674,40.8900,40.9500,40.8900,40.9500,1300
1486142720,40.8000,40.8400,40.8000,40.8300,12800
1486142803,40.7600,40.8007,40.7600,40.8007,2900
1486142849,40.8200,40.8200,40.7800,40.7800,1700
1486142938,40.7656,40.8586,40.7656,40.8586,600
1486142947,40.8400,40.8400,40.8400,40.8400,200
1486143177,40.8275,40.8400,40.8275,40.8400,2400
1486143185,40.8200,40.8200,40.8200,40.8200,2100
1486143406,40.9700,41.0000,40.9000,40.9000,3500
1486143475,40.9600,40.9600,40.9000,40.9547,2100
1486143480,40.9900,41.0000,40.9100,40.9800,9500
1486143548,40.9900,40.9900,40.9500,40.9500,1600
1486143657,40.8200,40.9799,40.8200,40.9799,6700
1486143718,40.9800,40.9800,40.8700,40.8700,2100
1486143759,41.0000,41.0000,40.9800,40.9800,8300
1486143820,40.9400,41.0000,40.9000,41.0000,4100
1486143871,40.9000,40.9100,40.9000,40.9100,200
1486143953,40.9245,40.9245,40.9245,40.9245,100
1486143992,40.9600,41.0000,40.9600,40.9600,1200
1486144074,41.0800,41.0800,40.9700,40.9900,13800
1486144136,41.0650,41.0794,41.0100,41.0400,3200
1486144224,41.0300,41.1000,41.0300,41.0700,6200
1486144266,41.0400,41.0400,40.9800,41.0214,11700
1486144391,41.0500,41.0500,41.0400,41.0400,300
1486144555,40.9710,41.0200,40.9000,41.0200,3400
1486144597,40.9001,40.9001,40.9001,40.9001,800
1486144731,40.8668,40.8668,40.8668,40.8668,100
1486144743,40.8900,40.9000,40.8900,40.9000,400
1486144811,40.8201,40.8700,40.8201,40.8700,3600
1486144864,40.9225,40.9700,40.9000,40.9200,7400
1486144935,40.8800,40.9300,40.8800,40.9300,3600
1486145035,40.9001,40.9100,40.9000,40.9000,2300
1486145265,40.7800,40.8400,40.7800,40.8100,1000
1486145317,40.8148,40.8400,40.7700,40.8300,3600
1486145391,40.9400,41.0000,40.8400,40.8400,3600
1486145459,40.9900,41.0400,40.9700,40.9700,1600
1486145517,41.1300,41.2150,40.9700,40.9900,9000
1486145527,41.1877,41.1888,41.1550,41.1600,2200
1486145638,41.1250,41.1400,41.0681,41.1400,1900
1486145697,41.1700,41.2200,41.1122,41.1200,1400
1486145756,41.2150,41.2300,41.1500,41.1899,13000
1486145812,41.2000,41.2600,41.1700,41.2200,11900
1486145858,41.1728,41.2289,41.1728,41.2200,3400
1486145935,41.1703,41.2000,41.1500,41.1850,3200
1486145963,41.1912,41.2112,41.1400,41.1500,3900
1486146055,41.2000,41.2300,41.2000,41.2100,1200
1486146103,41.2040,41.2300,41.1915,41.2300,1500
1486146170,41.1540,41.2000,41.1300,41.1990,900
1486146187,41.0900,41.2000,41.0900,41.2000,5400
1486146258,41.1200,41.1400,41.0900,41.0907,2900
1486146357,41.1221,41.1221,41.0900,41.1000,1300
1486146364,41.1900,41.2250,41.1500,41.1500,8100
1486146450,41.2320,41.2320,41.1900,41.1900,5300
1486146488,41.1900,41.2101,41.1700,41.2101,7100
1486146598,41.1859,41.2000,41.1600,41.1660,2400
1486146626,41.1999,41.1999,41.1999,41.1999,2400
1486146689,41.1527,41.1527,41.1527,41.1527,200
1486146773,41.1499,41.1680,41.1499,41.1680,600
1486146839,41.2300,41.2500,41.1500,41.1500,6500
1486146894,41.2380,41.2600,41.2010,41.2400,13200
1486146949,41.1700,41.2100,41.1700,41.2000,5400
1486147019,41.1600,41.1700,41.1100,41.1400,3100
1486147073,41.2000,41.2000,41.1100,41.1564,3700
1486147133,41.1720,41.2064,41.1400,41.1882,6500
1486147198,41.1700,41.1900,41.1700,41.1900,7400
1486147204,41.1400,41.2000,41.1090,41.1900,6400
1486147265,41.1800,41.1800,41.1800,41.1800,300
1486147378,41.1100,41.1515,41.1100,41.1515,8300
1486147410,41.1509,41.1600,41.1100,41.1255,3700
1486147493,41.1504,41.1504,41.1504,41.1504,100
1486147512,41.1440,41.1700,41.1440,41.1700,900
1486147674,41.1200,41.2100,41.1200,41.1500,2800
1486147734,41.1700,41.1700,41.1382,41.1382,1600
1486147765,41.1600,41.2200,41.1600,41.2000,1400
1486147857,41.2500,41.2500,41.1960,41.2000,8200
1486147860,41.2301,41.2500,41.2100,41.2500,4200
1486147975,41.2569,41.2700,41.2252,41.2500,6500
1486147988,41.2450,41.2800,41.2200,41.2800,12200
1486148099,41.2900,41.3140,41.2500,41.2800,10100
1486148124,41.2799,41.2882,41.2300,41.2882,1300
1486148203,41.2246,41.2300,41.1800,41.2300,7600
1486148279,41.3333,41.3333,41.2009,41.2009,4200
1486148339,41.3200,41.3500,41.3200,41.3250,4100
1486148349,41.2200,41.3201,41.2200,41.3201,3300
1486148458,41.3000,41.3100,41.2700,41.3100,1300
1486148460,41.3400,41.3699,41.2800,41.2800,1800
1486148577,41.3600,41.4000,41.3462,41.3600,14000
1486148611,41.3400,41.4000,41.3400,41.4000,4300
1486148696,41.3700,41.4200,41.3445,41.3999,3900
1486148742,41.3275,41.3901,41.3200,41.3730,3400
1486148783,41.4000,41.4000,41.3800,41.3800,800
1486148865,41.4589,41.4600,41.3400,41.4000,12000
1486148914,41.4700,41.4700,41.4496,41.4496,1600
1486148968,41.4500,41.4600,41.4200,41.4300,4300
1486149059,41.4100,41.4900,41.4000,41.4800,5300
1486149060,41.3870,41.3870,41.3700,41.3700,1300
1486149172,41.2195,41.3690,41.2000,41.3550,17900
1486149187,41.1800,41.1950,41.1410,41.1950,8400
1486149290,41.1204,41.1800,41.1204,41.1800,4200
1486149329,41.2400,41.2400,41.1500,41.1704,12500
1486149414,41.2400,41.3095,41.2300,41.2596,1700
1486149479,41.2349,41.2400,41.2000,41.2000,3900
1486149527,41.2210,41.2500,41.2067,41.2500,6700
1486149568,41.3100,41.3100,41.3100,41.3100,800
1486149606,41.3100,41.3100,41.3000,41.3000,1300
1486149664,41.3500,41.3500,41.2600,41.2600,1200
1486149774,41.3300,41.3300,41.3300,41.3300,100
1486149839,41.2800,41.2800,41.2800,41.2800,100
1486149841,41.2800,41.2850,41.2600,41.2700,1900
1486149941,41.3399,41.3399,41.3100,41.3100,400
1486150017,41.3200,41.3400,41.3158,41.3400,1600
1486150074,41.3500,41.3500,41.3104,41.3104,6300
1486150137,41.3400,41.3800,41.3284,41.3800,7800
1486150192,41.3845,41.4100,41.3400,41.3400,6100
1486150256,41.3608,41.4200,41.3200,41.3600,4100
1486150307,41.3800,41.3800,41.3400,41.3600,3700
1486150374,41.3600,41.4400,41.3500,41.3800,5400
1486150387,41.3800,41.3801,41.3800,41.3800,1200
1486150443,41.4500,41.4500,41.4000,41.4000,4700
1486150518,41.4900,41.5000,41.4200,41.4200,6400
1486150617,41.5500,41.5700,41.4860,41.5000,29700
1486150665,41.6500,41.6560,41.5736,41.5800,6000
1486150682,41.6100,41.6538,41.5890,41.6400,6200
1486150793,41.7036,41.7300,41.6500,41.6500,6100
1486150858,41.7818,41.7918,41.6400,41.7000,19100
1486150917,41.7900,41.8500,41.7200,41.7200,9500
1486150934,41.7918,41.8100,41.7600,41.7800,4000
1486150985,41.7200,41.7974,41.7200,41.7974,3600
1486151094,41.7760,41.7760,41.7400,41.7613,600
1486151126,41.7700,41.7700,41.7700,41.7700,1000
1486151162,41.6201,41.7800,41.6100,41.7400,8600
1486151279,41.5970,41.6088,41.5900,41.6088,3900
1486151313,41.6380,41.6380,41.6380,41.6380,500
1486151352,41.6290,41.6493,41.6290,41.6460,2100
1486151453,41.5800,41.5900,41.5300,41.5700,4200
1486151464,41.5600,41.6500,41.5600,41.5800,9100
1486151557,41.5360,41.5460,41.4900,41.5000,6500
1486151638,41.5370,41.5500,41.5370,41.5500,1800
1486151674,41.5800,41.5800,41.5678,41.5678,400
1486151703,41.7000,41.7000,41.6300,41.6700,6600
1486151816,41.7200,41.7200,41.6710,41.6800,7300
1486151842,41.7300,41.7300,41.7000,41.7193,1800
1486151936,41.7900,41.8000,41.7500,41.7700,5400
1486151956,41.7500,41.7700,41.7500,41.7700,600
1486152005,41.7800,41.8000,41.7400,41.7753,5100
1486152163,41.7500,41.7500,41.7300,41.7400,2100
1486152238,41.7611,41.8000,41.7611,41.8000,2000
1486152268,41.7900,41.8300,41.7800,41.8000,4800
1486152307,41.8700,41.8700,41.8100,41.8300,7600
1486152417,41.9000,41.9000,41.8500,41.8500,2600
1486152477,41.8200,41.9200,41.7566,41.9176,11900
1486152482,41.8000,41.8200,41.7400,41.8100,3500
1486152543,41.8300,41.8800,41.7948,41.7948,2400
1486152617,41.8100,41.8100,41.8100,41.8100,100
1486152682,41.8000,41.8300,41.8000,41.8000,2200
1486152721,41.7458,41.8250,41.7400,41.8175,3700
1486152786,41.7800,41.8100,41.7800,41.8000,1200
1486152887,41.8500,41.8500,41.7628,41.7760,6000
1486152912,41.9700,41.9700,41.8400,41.8400,9900
1486153019,42.0700,42.0700,41.9300,41.9430,23900
1486153070,42.0840,42.1000,42.0400,42.0800,15100
1486153088,42.0731,42.1000,42.0400,42.0730,11600
1486153141,42.1257,42.1400,42.0900,42.1000,11100
1486153255,42.0900,42.1500,42.0701,42.0900,13300
1486153300,42.1260,42.1500,42.1093,42.1400,4500
1486153379,42.0960,42.1500,42.0800,42.1100,34600
1486153439,42.0500,42.1000,42.0200,42.0800,8600
1486153461,42.0700,42.1020,42.0401,42.0710,10400
1486153555,42.1111,42.1400,42.0600,42.0630,5700
1486153560,42.0000,42.1100,42.0000,42.1100,3500
1486153621,42.0587,42.0587,42.0100,42.0341,2300
1486153697,42.0568,42.0630,42.0500,42.0500,2600
1486153740,42.0574,42.0574,42.0300,42.0300,2800
1486153850,42.0700,42.1100,42.0400,42.0500,8700
1486153913,42.0500,42.1000,42.0500,42.0829,6400
1486153977,42.0574,42.0574,42.0574,42.0574,700
1486153984,42.0590,42.0900,42.0550,42.0648,2400
1486154096,42.0700,42.1100,42.0600,42.0800,8000
1486154124,42.0650,42.0652,42.0650,42.0652,500
1486154164,42.0930,42.1000,42.0600,42.0700,3100
1486154221,42.1174,42.1300,42.0400,42.0900,8700
1486154339,42.1300,42.2000,42.1300,42.1400,9500
1486154391,42.1157,42.1600,42.0900,42.0900,3000
1486154405,42.1248,42.1600,42.1248,42.1400,2500
1486154472,42.1400,42.1500,42.1370,42.1500,4200
1486154579,42.1800,42.1900,42.1300,42.1300,8900
1486154584,42.1410,42.1800,42.1410,42.1800,3800
1486154675,42.1800,42.1900,42.1700,42.1700,8300
1486154753,42.1300,42.1850,42.1300,42.1667,13900
1486154761,42.1400,42.1800,42.1300,42.1600,6800
1486154829,42.1400,42.1800,42.1300,42.1300,2600
1486154938,42.1800,42.1800,42.1100,42.1300,16300
1486154940,42.1700,42.2000,42.1500,42.1800,13200
1486155058,42.1764,42.2300,42.1661,42.2000,25700
1486155118,42.2028,42.2200,42.1800,42.2100,8300
1486155174,42.1800,42.2500,42.1600,42.2125,9700
1486155182,42.2000,42.2600,42.2000,42.2200,16700
1486155278,42.2273,42.2700,42.1600,42.2300,4900
1486155359,42.2000,42.2800,42.1600,42.2500,17300
1486155360,42.1900,42.2000,42.1400,42.2000,7200
1486155477,42.1200,42.2000,42.1200,42.1700,13400
1486155539,42.1195,42.1700,42.0700,42.1000,19300
1486155599,42.1500,42.1900,42.1100,42.1450,39400
1486155600,42.1600,42.1600,42.1600,42.1600,100
`;
console.log('tst.len: ' + tst.length);

const wsPort = 3030;

const wss = new ws.Server({
	port: wsPort
}, () => {
	console.log(`web socket server started on port ${wsPort}`);
});

wss.on('connection', ws => {
	console.log(`-->web socket connection opened on port ${wsPort}`);
	ws.on('close', () => {
		console.log(`web socket connection closed on port ${wsPort}`);
	});
	ws.on('message', (url) => {
        console.log('->' + url)
		if (url.includes('range=1d')) {
			ws.send(tst);
		} else {
        robot().proxy(url, (response) => {
            // console.log(response);
            ws.send(response);
        });
		}
    });
});